---
title: "┗ GitLab-flow"
free: false
---

## GitLab-flow

![](/images/books/497459787cb294/gitlabflow.png)
*https://docs.gitlab.com/ee/topics/gitlab_flow.html*

### 特徴

GitHub-flowでは、featureブランチをマージするたびに本番環境へデプロイ出来ることを想定します。しかしそれはSaaSアプリケーションでは可能ですが大抵の場合はできません。  
リリースをコントロールできない例の1つはiOSアプリケーションで、AppStoreのバリデーションをパスする必要があります。
こういった時masterブランチとは別にリリースした時点のブランチがあると便利です。
masterブランチからproductionブランチにマージして新しいバージョンをデプロイ／リリースできます。

また、テスト環境や本番環境などを分けることができます。

### メリット

小さい規模から大規模まで対応できます。  
また、リリース管理を厳密に行えるように設計されているためwebサービス等よりソフトウェア開発に向いています。  
権限はコミッタ、コントリビュータ、および(リリース)マネージャに対応する事ができます。これによりGitHub-flowよりも適用可能なプロジェクトが多くなります。

### デメリット

GitHub-flowほど超高速リリースができないことやGit-flowほど厳密なリリース及び権限管理が出来ないことなど、他のフローのメリットを超えるものではなくほどほどにいいとこ取りをしたフローです。
裏を返せば、使い方を間違えると両方の悪いところを継承してしまう恐れがあります。

### 使用方法

#### ①featureブランチの作成

イシューが発行されてその課題に対応するための開発をmasterブランチから切ったfeatureブランチを作成します。

#### ②featureブランチのマージ

マージリクエストを使用してfeatureブランチで修正した内容をレビューした後、問題なければmasterブランチにマージします。（マージ後はfeatureブランチを削除します）

#### ③リリース準備

リリースに向けての準備を行います。リリースする時点の状態をmasterブランチから切ってpre-productionブランチを作成します。（即リリースする場合はpre-productionは不要です）

#### ④リリース

リリースした資源（バージョン）をproductionブランチにマージしてリリース完了です。

#### ⑤ホットフィックス（緊急対応）

緊急対応が必要な場合は、masterブランチから切ってhotfixブランチを作成します。
修正後はmasterブランチにマージします。（この時hotfixブランチは削除しません）
修正した内容をproduction(pre-production)ブランチにも適用します。（Cherry-pick）

:::message
Cherry-pickとは別ブランチで修正した内容をコミット単位で他ブランチに適用するコマンドです。
:::
